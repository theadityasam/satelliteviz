# SatelliteViz

The repo contains code for automated mapping of trees/plantation and farmland from 5m(spatial resolution) multispectral
multi-temporal (LISS IV) data. This code has been written in R and the end goal is creation of a shiny webapp for viewing and mapping vegetation areas in 
the TIF files uploaded.
Some sample images can be downloaded from this [link](https://drive.google.com/open?id=1YXbrUKEomSUks_gv4pDYH-kImzT23J_j)

## Image format
- Images are acquired from Indian Remote Sensing Satellite Resoursesat -1,2 with LISS-IV sensor.
- It provides multi-spectral data with three bands with spatial resolution of 5m at nadir. The given imageries are band stacked FCC
(False Colour Composite) as (Band 1- Near Infrared, Band 2- Red and Band 3- Green).
- It has 10 bits radiometric resolution with the swath of 70 km and the revisit time of 5 days.

## How to detect vegetation?
Vegetation reflects more NIR than other wavelengths but water absorbs
NIR, therefore the lighter areas with high reflectance values are likely to
be vegetation and the dark blue, low reflectance value areas, likely to be
water.
Chlorophyll is the key factor in reflectivity of vegetation. It absorbs
strongly in red, giving rise to our visible observation that healthy
vegetation is green. But chlorophyll reflects most strongly in very
near-infrared (VNIR) just beyond the visible.

All the following has been generated by using the raster package in R, the code for which can be found in code.R

### Bareilly with Red, Green Band stacked
![Bareillyredgreen](https://github.com/theadityasam/satelliteviz/blob/master/BareillyRedGreen.png)
The red and green wavelengths are represented in the above image. We can get a rough approximate of the vegetative areas in this image

### Bareilly with Reg, Green and NIR band stacked
![Bareillyallbands](https://github.com/theadityasam/satelliteviz/blob/master/BareillyRedGreenNIR.png)
Over here, the NIR band is represented with blue colour and we can see the vegetation that has reflected the near infrared light.

## NDVI
The Normalised Difference Vegetation Index (NDVI) is a widely used vegetation index that
quantifies vegetation presence, health or structure. It is calculated using the Near Infrared (NIR)
and Red bandwith of the spectrum. Healthy vegetation reflects light strongly in the NIR part of
the spectrum and absorbs light in red part of the visible spectrum for photosynthesis. A high
ratio between light refected in the NIR part of the spectrum and light reflected in the red part of
the spectrum would represent areas that potentially have healthy vegetation. It is worth noting
that different plant species absorb light in the red part of the spectrum at different rates. The
same plant will also absorb light in the red band differently depending on whether it is stressed
or healthy, or the time of year. It is often used over large areas as an indication of land cover
change.
The NDVI ratio is calculated using (NIR - Red) / (NIR + Red). For example, a pixel with an NDVI of
less than 0.2 is not likely to be dominated by vegetation, and an NDVI of 0.6 and above is likely
to be dense vegetation.

### Plotting the NDVI values of each pixel and representing it in green
![ndviplot](https://github.com/theadityasam/satelliteviz/blob/master/ndviplot.png)

By taking 0.2 as a threshold NDVI value to categorise the pixel as vegetation, we can remove all the pixels with NDVI < 0.2
![ndvimask](https://github.com/theadityasam/satelliteviz/blob/master/ndvimask.png)

Plotting a histogram of NDVI values of the image, giving an approximation of vegetation in the given image
![ndvihist](https://github.com/theadityasam/satelliteviz/blob/master/ndvihist.png)
We see that the graph is right skewed, meaning the image represents healthy vegetation

## Running K-Means on the NDVI plot to cluster pixels into 10 zones(i.e. k is 10)
![bareillykmeans](https://github.com/theadityasam/satelliteviz/blob/master/BareillyKMeans.png)
